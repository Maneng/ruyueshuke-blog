# å¦‚çº¦æ•°ç§‘åšå®¢éƒ¨ç½²å®Œæˆæ€»ç»“

## ğŸ‰ é¡¹ç›®çŠ¶æ€

**çŠ¶æ€**ï¼šâœ… å·²å®Œæˆå¹¶æˆåŠŸéƒ¨ç½²

**åšå®¢åœ°å€**ï¼šhttps://ruyueshuke.com/

**å®Œæˆæ—¶é—´**ï¼š2025-10-02

---

## ğŸ“Š é¡¹ç›®é…ç½®

### åŸºæœ¬ä¿¡æ¯
- **åšå®¢åç§°**ï¼šå¦‚çº¦æ•°ç§‘
- **æŠ€æœ¯æ ˆ**ï¼šHugo + PaperModä¸»é¢˜
- **åŸŸå**ï¼šruyueshuke.com
- **æœåŠ¡å™¨**ï¼šé˜¿é‡Œäº‘ (47.93.8.184)
- **æœåŠ¡å™¨ç”¨æˆ·**ï¼šroot
- **éƒ¨ç½²ç›®å½•**ï¼š/usr/share/testpage/

### GitHubä¿¡æ¯
- **ä»“åº“åœ°å€**ï¼šhttps://github.com/Maneng/ruyueshuke-blog
- **ä»“åº“ç±»å‹**ï¼šPrivateï¼ˆç§æœ‰ï¼‰
- **è‡ªåŠ¨éƒ¨ç½²**ï¼šGitHub Actions

### æœåŠ¡å™¨é…ç½®
- **Nginxç‰ˆæœ¬**ï¼š1.20.1
- **Nginxé…ç½®**ï¼š/etc/nginx/conf.d/ruyueshuke.conf
- **SSLè¯ä¹¦**ï¼š/etc/nginx/ssl/ruyueshuke.com.cer
- **SSLå¯†é’¥**ï¼š/etc/nginx/ssl/ruyueshuke.com.key

---

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### é˜¶æ®µ1ï¼šæœ¬åœ°Hugoç¯å¢ƒæ­å»º
- âœ… å®‰è£…Hugo v0.150.1 (extendedç‰ˆæœ¬)
- âœ… åˆå§‹åŒ–Hugoç«™ç‚¹ç»“æ„
- âœ… æ·»åŠ PaperModä¸»é¢˜ï¼ˆGitå­æ¨¡å—ï¼‰
- âœ… åˆ›å»ºç¤ºä¾‹æ–‡ç« å’Œé¡µé¢
- âœ… æœ¬åœ°é¢„è§ˆæµ‹è¯•æˆåŠŸ

### é˜¶æ®µ2ï¼šGitHubä»“åº“é…ç½®
- âœ… åˆ›å»ºç§æœ‰GitHubä»“åº“
- âœ… æ¨é€æœ¬åœ°ä»£ç åˆ°è¿œç¨‹
- âœ… Gitå­æ¨¡å—æ­£ç¡®é…ç½®

### é˜¶æ®µ3ï¼šæœåŠ¡å™¨ç¯å¢ƒé…ç½®
- âœ… æ£€æŸ¥ç°æœ‰Nginxé…ç½®
- âœ… ç¡®è®¤éƒ¨ç½²ç›®å½• /usr/share/testpage/
- âœ… å®‰è£…rsyncå·¥å…·
- âœ… æœåŠ¡å™¨å·²æœ‰SSLè¯ä¹¦é…ç½®

### é˜¶æ®µ4ï¼šGitHub Actionsè‡ªåŠ¨éƒ¨ç½²
- âœ… ç”ŸæˆSSHå¯†é’¥å¯¹ï¼ˆed25519ï¼‰
- âœ… å°†å…¬é’¥æ·»åŠ åˆ°æœåŠ¡å™¨
- âœ… é…ç½®GitHub Secretsï¼š
  - SSH_PRIVATE_KEY
  - SERVER_HOST (47.93.8.184)
  - SERVER_USER (root)
- âœ… åˆ›å»ºè‡ªåŠ¨éƒ¨ç½²workflow

### é˜¶æ®µ5ï¼šæµ‹è¯•éªŒè¯
- âœ… æ¨é€ä»£ç è§¦å‘è‡ªåŠ¨éƒ¨ç½²
- âœ… GitHub Actionsæ„å»ºæˆåŠŸ
- âœ… æ–‡ä»¶æˆåŠŸéƒ¨ç½²åˆ°æœåŠ¡å™¨
- âœ… ç½‘ç«™è®¿é—®æ­£å¸¸

---

## ğŸ”§ å…³é”®é…ç½®æ–‡ä»¶

### 1. config.toml
```toml
baseURL = "https://ruyueshuke.com/"
title = "å¦‚çº¦æ•°ç§‘"
theme = "PaperMod"
```

### 2. .github/workflows/deploy.yml
- è§¦å‘æ¡ä»¶ï¼špushåˆ°mainåˆ†æ”¯
- æ­¥éª¤ï¼šCheckout â†’ Hugoæ„å»º â†’ SSHéƒ¨ç½²
- éƒ¨ç½²ç›®å½•ï¼š/usr/share/testpage/
- æ’é™¤ç›®å½•ï¼š.well-knownï¼ˆè¯ä¹¦éªŒè¯ï¼‰

### 3. SSHå¯†é’¥
- **æœ¬åœ°ç§é’¥**ï¼š~/.ssh/ruyueshuke_deploy_key
- **æœåŠ¡å™¨å…¬é’¥**ï¼šå·²æ·»åŠ åˆ° ~/.ssh/authorized_keys

---

## ğŸ“ å®Œæ•´å·¥ä½œæµç¨‹

```
æœ¬åœ°å†™ä½œ
  â†“
hugo new posts/xxx.md
  â†“
ç¼–è¾‘Markdownæ–‡ä»¶
  â†“
æœ¬åœ°é¢„è§ˆï¼šhugo server -D
  â†“
Gitæäº¤ï¼šgit add . && git commit -m "..."
  â†“
æ¨é€ï¼šgit push origin main
  â†“
GitHub Actionsè‡ªåŠ¨è§¦å‘
  â†“
Hugoæ„å»ºç”Ÿæˆstaticæ–‡ä»¶
  â†“
rsyncéƒ¨ç½²åˆ°æœåŠ¡å™¨
  â†“
è®¿é—® https://ruyueshuke.com/ æŸ¥çœ‹
```

**æ—¶é—´**ï¼šä»æ¨é€åˆ°éƒ¨ç½²å®Œæˆçº¦2-3åˆ†é’Ÿ

---

## ğŸ¯ åŠŸèƒ½æ¸…å•

### å·²å®ç°åŠŸèƒ½
- âœ… æ–‡ç« å‘å¸ƒå’Œå±•ç¤º
- âœ… åˆ†ç±»å’Œæ ‡ç­¾
- âœ… æ–‡ç« å½’æ¡£
- âœ… å…¨æ–‡æœç´¢
- âœ… RSSè®¢é˜…
- âœ… ä»£ç è¯­æ³•é«˜äº®
- âœ… å“åº”å¼è®¾è®¡
- âœ… äº®è‰²/æš—è‰²ä¸»é¢˜åˆ‡æ¢
- âœ… è‡ªåŠ¨éƒ¨ç½²
- âœ… HTTPSè®¿é—®

### é¡µé¢åŠŸèƒ½
- é¦–é¡µï¼šæ¬¢è¿ä¿¡æ¯å’Œæ–‡ç« åˆ—è¡¨
- æ–‡ç« é¡µï¼šå®Œæ•´æ–‡ç« å†…å®¹å’Œç›®å½•
- å½’æ¡£é¡µï¼šæŒ‰æ—¶é—´å½’æ¡£
- æ ‡ç­¾é¡µï¼šæŒ‰æ ‡ç­¾åˆ†ç±»
- æœç´¢é¡µï¼šå…¨æ–‡æœç´¢
- å…³äºé¡µï¼šä¸ªäººä»‹ç»

---

## ğŸ“š æ—¥å¸¸ä½¿ç”¨æŒ‡å—

### åˆ›å»ºæ–°æ–‡ç« 

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/maneng/claude_project/blog

# åˆ›å»ºæ–‡ç« 
hugo new posts/$(date +%Y-%m-%d)-my-article.md

# æˆ–æ‰‹åŠ¨æŒ‡å®šåç§°
hugo new posts/java-performance-tips.md

# ç¼–è¾‘æ–‡ç« 
vim content/posts/java-performance-tips.md
```

### æ–‡ç« æ ¼å¼

```markdown
---
title: "æ–‡ç« æ ‡é¢˜"
date: 2025-10-02T10:00:00+08:00
draft: false
tags: ["Java", "æ€§èƒ½ä¼˜åŒ–"]
categories: ["æŠ€æœ¯"]
description: "æ–‡ç« ç®€ä»‹"
---

## æ­£æ–‡å†…å®¹

è¿™é‡Œæ˜¯æ­£æ–‡...
```

### æ·»åŠ å›¾ç‰‡

```bash
# å¤åˆ¶å›¾ç‰‡åˆ°static/images/
cp ~/screenshot.png static/images/2025-10-02-screenshot.png

# åœ¨Markdownä¸­å¼•ç”¨
![å›¾ç‰‡æè¿°](/images/2025-10-02-screenshot.png)
```

### æœ¬åœ°é¢„è§ˆ

```bash
hugo server -D
# è®¿é—® http://localhost:1313
```

### å‘å¸ƒæ–‡ç« 

```bash
# æŸ¥çœ‹ä¿®æ”¹
git status

# æ·»åŠ æ‰€æœ‰ä¿®æ”¹
git add .

# æäº¤
git commit -m "Add: æ–°æ–‡ç«  - Javaæ€§èƒ½ä¼˜åŒ–æŠ€å·§"

# æ¨é€ï¼ˆè‡ªåŠ¨è§¦å‘éƒ¨ç½²ï¼‰
git push origin main
```

**ç­‰å¾…2-3åˆ†é’Ÿåè®¿é—®** https://ruyueshuke.com/

---

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šæ¨é€åç½‘ç«™æ²¡æ›´æ–°

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥GitHub Actionsï¼šhttps://github.com/Maneng/ruyueshuke-blog/actions
2. æŸ¥çœ‹workflowæ—¥å¿—ï¼Œç¡®è®¤æ˜¯å¦æœ‰é”™è¯¯
3. å¦‚æœæœ‰é”™è¯¯ï¼Œæ ¹æ®æ—¥å¿—ä¿®å¤åé‡æ–°æ¨é€

### é—®é¢˜2ï¼šå›¾ç‰‡æ˜¾ç¤º404

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤å›¾ç‰‡è·¯å¾„ï¼š`/images/xxx.png`
2. ç¡®è®¤å›¾ç‰‡æ–‡ä»¶åœ¨ `static/images/` ç›®å½•
3. ç¡®è®¤å›¾ç‰‡å·²æäº¤åˆ°Git
4. åŒºåˆ†å¤§å°å†™ï¼ˆLinuxæœåŠ¡å™¨åŒºåˆ†å¤§å°å†™ï¼‰

### é—®é¢˜3ï¼šæœ¬åœ°é¢„è§ˆæ­£å¸¸ï¼Œçº¿ä¸Šæœ‰é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ `config.toml` ä¸­çš„ `baseURL` æ˜¯å¦æ­£ç¡®
2. åº”è¯¥æ˜¯ï¼š`https://ruyueshuke.com/`
3. é‡æ–°æ„å»ºå¹¶æ¨é€

---

## ğŸš€ åç»­ä¼˜åŒ–å»ºè®®

### çŸ­æœŸå¯åš
1. **æ·»åŠ è¯„è®ºç³»ç»Ÿ**ï¼ˆutterances - åŸºäºGitHub Issuesï¼‰
2. **æ·»åŠ è®¿é—®ç»Ÿè®¡**ï¼ˆGoogle Analyticsæˆ–Umamiï¼‰
3. **ä¼˜åŒ–é¦–é¡µå†…å®¹**ï¼ˆæ·»åŠ æ›´å¤šä¸ªäººä¿¡æ¯ï¼‰
4. **åˆ›å»ºæ›´å¤šç¤ºä¾‹æ–‡ç« **

### ä¸­æœŸå¯åš
1. **è‡ªå®šä¹‰404é¡µé¢**
2. **æ·»åŠ å‹æƒ…é“¾æ¥**
3. **ä¼˜åŒ–SEO**ï¼ˆæ·»åŠ sitemapã€metaæ ‡ç­¾ï¼‰
4. **æ·»åŠ é‚®ä»¶è®¢é˜…**

### é•¿æœŸå¯è€ƒè™‘
1. **å›¾ç‰‡è¿ç§»åˆ°OSS**ï¼ˆå½“å›¾ç‰‡å¾ˆå¤šæ—¶ï¼‰
2. **å¯ç”¨CDNåŠ é€Ÿ**ï¼ˆå½“è®¿é—®é‡å¤§æ—¶ï¼‰
3. **è‡ªå®šä¹‰ä¸»é¢˜æ ·å¼**
4. **æ·»åŠ æ›´å¤šåŠŸèƒ½é¡µé¢**

---

## ğŸ“ é‡è¦å‘½ä»¤é€ŸæŸ¥

| ä»»åŠ¡ | å‘½ä»¤ |
|------|------|
| åˆ›å»ºæ–‡ç«  | `hugo new posts/article-name.md` |
| æœ¬åœ°é¢„è§ˆ | `hugo server -D` |
| æœ¬åœ°æ„å»º | `hugo --minify` |
| Gitæäº¤ | `git add . && git commit -m "message"` |
| æ¨é€éƒ¨ç½² | `git push origin main` |
| è¿æ¥æœåŠ¡å™¨ | `ruyue` |
| æŸ¥çœ‹éƒ¨ç½²æ—¥å¿— | è®¿é—®GitHub Actionsé¡µé¢ |

---

## ğŸ” å®‰å…¨æé†’

1. **SSHå¯†é’¥**ï¼š
   - ç§é’¥ï¼š`~/.ssh/ruyueshuke_deploy_key`ï¼ˆæœ¬åœ°ä¿å­˜ï¼Œä¸è¦æ³„éœ²ï¼‰
   - å…¬é’¥å·²æ·»åŠ åˆ°æœåŠ¡å™¨

2. **GitHub Secrets**ï¼š
   - å·²é…ç½®åœ¨GitHubä»“åº“ä¸­
   - ä¸ä¼šåœ¨æ—¥å¿—ä¸­æ˜¾ç¤º

3. **æœåŠ¡å™¨è®¿é—®**ï¼š
   - ä½¿ç”¨ `ruyue` å‘½ä»¤è¿æ¥
   - ç­‰åŒäº `ssh root@47.93.8.184`

---

## ğŸ“‚ é‡è¦ç›®å½•å’Œæ–‡ä»¶

### æœ¬åœ°é¡¹ç›®
```
/Users/maneng/claude_project/blog/
â”œâ”€â”€ content/posts/           # æ–‡ç« ç›®å½•ï¼ˆæ ¸å¿ƒï¼‰
â”œâ”€â”€ static/images/           # å›¾ç‰‡ç›®å½•
â”œâ”€â”€ config.toml             # é…ç½®æ–‡ä»¶
â”œâ”€â”€ .github/workflows/      # è‡ªåŠ¨éƒ¨ç½²é…ç½®
â””â”€â”€ themes/PaperMod/        # ä¸»é¢˜
```

### æœåŠ¡å™¨
```
/usr/share/testpage/        # ç½‘ç«™æ ¹ç›®å½•
/etc/nginx/conf.d/          # Nginxé…ç½®
/etc/nginx/ssl/             # SSLè¯ä¹¦
```

---

## ğŸ“ å­¦ä¹ èµ„æº

- [Hugoå®˜æ–¹æ–‡æ¡£](https://gohugo.io/documentation/)
- [PaperModä¸»é¢˜æ–‡æ¡£](https://github.com/adityatelange/hugo-PaperMod/wiki)
- [Markdownè¯­æ³•æŒ‡å—](https://www.markdownguide.org/)
- [GitHub Actionsæ–‡æ¡£](https://docs.github.com/en/actions)

---

## âœ… é¡¹ç›®æ¸…å•

- [x] Hugoç¯å¢ƒæ­å»º
- [x] GitHubä»“åº“åˆ›å»º
- [x] æœåŠ¡å™¨é…ç½®
- [x] è‡ªåŠ¨éƒ¨ç½²é…ç½®
- [x] ç½‘ç«™è®¿é—®éªŒè¯
- [x] æ–‡æ¡£å®Œå–„
- [ ] ç¼–å†™æ›´å¤šæ–‡ç« 
- [ ] ä¼˜åŒ–SEO
- [ ] æ·»åŠ è¯„è®ºç³»ç»Ÿ
- [ ] æ·»åŠ è®¿é—®ç»Ÿè®¡

---

**é¡¹ç›®å®Œæˆæ—¥æœŸ**ï¼š2025-10-02
**åˆå§‹ç‰ˆæœ¬**ï¼šv1.0
**ç»´æŠ¤è€…**ï¼šmaneng
**åšå®¢åœ°å€**ï¼šhttps://ruyueshuke.com/
