---
title: "çº¦æŸä¸å®Œæ•´æ€§ï¼šä¸»é”®ã€å¤–é”®ã€å”¯ä¸€ã€éç©º"
date: 2025-11-20T13:00:00+08:00
draft: false
tags: ["MySQL", "çº¦æŸ", "æ•°æ®å®Œæ•´æ€§", "åŸºç¡€å…¥é—¨"]
categories: ["æŠ€æœ¯"]
description: "ç†è§£æ•°æ®åº“çº¦æŸçš„ä½œç”¨ï¼ŒæŒæ¡ä¸»é”®ã€å¤–é”®ã€å”¯ä¸€çº¦æŸã€éç©ºçº¦æŸçš„ä½¿ç”¨ï¼Œä¿è¯æ•°æ®å®Œæ•´æ€§"
series: ["MySQLä»å…¥é—¨åˆ°ç²¾é€š"]
weight: 7
stage: 1
stageTitle: "åŸºç¡€å…¥é—¨ç¯‡"
---

## å¼•è¨€

### æå‡ºé—®é¢˜

å‰é¢æˆ‘ä»¬å­¦ä¼šäº†å¢åˆ æ”¹æŸ¥ï¼Œä½†é‡åˆ°ä¸€äº›é—®é¢˜ï¼š

- å¦‚ä½•é˜²æ­¢æ’å…¥é‡å¤çš„ç”¨æˆ·åï¼Ÿ
- å¦‚ä½•ä¿è¯ç”¨æˆ·å¹´é¾„ä¸èƒ½ä¸ºè´Ÿæ•°ï¼Ÿ
- å¦‚ä½•ä¿è¯è®¢å•å¿…é¡»å…³è”åˆ°å­˜åœ¨çš„ç”¨æˆ·ï¼Ÿ
- å¦‚ä½•ä¿è¯é‚®ç®±å­—æ®µä¸èƒ½ä¸ºç©ºï¼Ÿ

**è¿™å°±éœ€è¦æ•°æ®åº“çº¦æŸï¼ˆConstraintsï¼‰æ¥ä¿è¯æ•°æ®å®Œæ•´æ€§ï¼**

---

## æ•°æ®å®Œæ•´æ€§çš„ä¸‰ä¸ªå±‚æ¬¡

### 1. å®ä½“å®Œæ•´æ€§ï¼ˆEntity Integrityï¼‰

**å®šä¹‰**ï¼šæ¯ä¸€è¡Œæ•°æ®å¿…é¡»æ˜¯å”¯ä¸€å¯è¯†åˆ«çš„

**å®ç°æ–¹å¼**ï¼šä¸»é”®çº¦æŸï¼ˆPRIMARY KEYï¼‰

```sql
CREATE TABLE users (
  id INT PRIMARY KEY AUTO_INCREMENT,  -- ä¸»é”®ï¼Œå”¯ä¸€æ ‡è¯†
  username VARCHAR(50)
);
```

### 2. åŸŸå®Œæ•´æ€§ï¼ˆDomain Integrityï¼‰

**å®šä¹‰**ï¼šåˆ—çš„å€¼å¿…é¡»ç¬¦åˆå®šä¹‰çš„ç±»å‹å’Œçº¦æŸ

**å®ç°æ–¹å¼**ï¼š
- æ•°æ®ç±»å‹ï¼ˆINTã€VARCHARç­‰ï¼‰
- NOT NULLçº¦æŸ
- DEFAULTé»˜è®¤å€¼
- CHECKçº¦æŸï¼ˆMySQL 8.0.16+ï¼‰

```sql
CREATE TABLE users (
  id INT PRIMARY KEY,
  age INT NOT NULL CHECK (age >= 0 AND age <= 150),  -- å¹´é¾„èŒƒå›´
  status TINYINT DEFAULT 1  -- é»˜è®¤å€¼
);
```

### 3. å‚ç…§å®Œæ•´æ€§ï¼ˆReferential Integrityï¼‰

**å®šä¹‰**ï¼šè¡¨ä¹‹é—´çš„å…³è”å¿…é¡»ä¸€è‡´

**å®ç°æ–¹å¼**ï¼šå¤–é”®çº¦æŸï¼ˆFOREIGN KEYï¼‰

```sql
CREATE TABLE orders (
  id INT PRIMARY KEY,
  user_id INT,
  FOREIGN KEY (user_id) REFERENCES users(id)  -- å¤–é”®ï¼Œå…³è”usersè¡¨
);
```

---

## ä¸»é”®çº¦æŸï¼ˆPRIMARY KEYï¼‰

### ç‰¹ç‚¹

- âœ… å”¯ä¸€æ€§ï¼šå€¼ä¸èƒ½é‡å¤
- âœ… éç©ºæ€§ï¼šå€¼ä¸èƒ½ä¸ºNULL
- âœ… æ¯å¼ è¡¨åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®
- âœ… ä¸»é”®å¯ä»¥æ˜¯å•åˆ—æˆ–å¤šåˆ—ï¼ˆå¤åˆä¸»é”®ï¼‰

### å•åˆ—ä¸»é”®

```sql
-- æ–¹å¼1ï¼šåˆ—çº§å®šä¹‰
CREATE TABLE users (
  id INT PRIMARY KEY AUTO_INCREMENT,
  username VARCHAR(50)
);

-- æ–¹å¼2ï¼šè¡¨çº§å®šä¹‰
CREATE TABLE users (
  id INT AUTO_INCREMENT,
  username VARCHAR(50),
  PRIMARY KEY (id)
);
```

### å¤åˆä¸»é”®

```sql
-- å­¦ç”Ÿé€‰è¯¾è¡¨ï¼ˆå­¦ç”ŸID + è¯¾ç¨‹IDä½œä¸ºä¸»é”®ï¼‰
CREATE TABLE student_courses (
  student_id INT,
  course_id INT,
  score INT,
  PRIMARY KEY (student_id, course_id)  -- å¤åˆä¸»é”®
);

-- æ’å…¥æ•°æ®
INSERT INTO student_courses VALUES (1, 101, 90);  -- æˆåŠŸ
INSERT INTO student_courses VALUES (1, 102, 85);  -- æˆåŠŸ
INSERT INTO student_courses VALUES (1, 101, 95);  -- å¤±è´¥ï¼šä¸»é”®é‡å¤
```

### æ·»åŠ /åˆ é™¤ä¸»é”®

```sql
-- æ·»åŠ ä¸»é”®
ALTER TABLE users ADD PRIMARY KEY (id);

-- åˆ é™¤ä¸»é”®
ALTER TABLE users DROP PRIMARY KEY;

-- ä¿®æ”¹ä¸»é”®ï¼ˆå…ˆåˆ é™¤å†æ·»åŠ ï¼‰
ALTER TABLE users DROP PRIMARY KEY;
ALTER TABLE users ADD PRIMARY KEY (new_id);
```

---

## å”¯ä¸€çº¦æŸï¼ˆUNIQUEï¼‰

### ç‰¹ç‚¹

- âœ… å€¼ä¸èƒ½é‡å¤
- âœ… å¯ä»¥ä¸ºNULLï¼ˆä½†åªèƒ½æœ‰ä¸€ä¸ªNULLï¼‰
- âœ… ä¸€å¼ è¡¨å¯ä»¥æœ‰å¤šä¸ªå”¯ä¸€çº¦æŸ

### åŸºç¡€ç”¨æ³•

```sql
CREATE TABLE users (
  id INT PRIMARY KEY,
  username VARCHAR(50) UNIQUE,  -- ç”¨æˆ·åå”¯ä¸€
  email VARCHAR(100) UNIQUE,    -- é‚®ç®±å”¯ä¸€
  phone VARCHAR(20)
);

-- æ’å…¥æ•°æ®
INSERT INTO users VALUES (1, 'zhangsan', 'zhang@example.com', '13800138000');
INSERT INTO users VALUES (2, 'zhangsan', 'li@example.com', '13900139000');
-- ERROR 1062: Duplicate entry 'zhangsan' for key 'username'
```

### å¤åˆå”¯ä¸€çº¦æŸ

```sql
-- IPè®¿é—®æ—¥å¿—ï¼ˆåŒä¸€IPåœ¨åŒä¸€å¤©åªèƒ½è®°å½•ä¸€æ¬¡ï¼‰
CREATE TABLE access_logs (
  id INT PRIMARY KEY AUTO_INCREMENT,
  ip VARCHAR(15),
  access_date DATE,
  UNIQUE KEY uk_ip_date (ip, access_date)  -- å¤åˆå”¯ä¸€çº¦æŸ
);
```

### æ·»åŠ /åˆ é™¤å”¯ä¸€çº¦æŸ

```sql
-- æ·»åŠ å”¯ä¸€çº¦æŸ
ALTER TABLE users ADD UNIQUE (username);
ALTER TABLE users ADD UNIQUE KEY uk_email (email);  -- æŒ‡å®šçº¦æŸå

-- åˆ é™¤å”¯ä¸€çº¦æŸ
ALTER TABLE users DROP INDEX username;
ALTER TABLE users DROP INDEX uk_email;
```

---

## éç©ºçº¦æŸï¼ˆNOT NULLï¼‰

### ç‰¹ç‚¹

- âœ… å­—æ®µä¸èƒ½ä¸ºNULL
- âœ… å¿…é¡»æä¾›å€¼

### åŸºç¡€ç”¨æ³•

```sql
CREATE TABLE users (
  id INT PRIMARY KEY,
  username VARCHAR(50) NOT NULL,  -- ä¸èƒ½ä¸ºç©º
  email VARCHAR(100) NOT NULL,
  nickname VARCHAR(50)  -- å¯ä»¥ä¸ºç©º
);

-- æ’å…¥æ•°æ®
INSERT INTO users (id, username, email) VALUES (1, 'zhangsan', 'zhang@example.com');  -- æˆåŠŸ
INSERT INTO users (id, username) VALUES (2, 'lisi');  -- å¤±è´¥ï¼šemailä¸èƒ½ä¸ºç©º
```

### NULL vs ç©ºå­—ç¬¦ä¸²

```sql
-- NULLï¼šæœªçŸ¥ã€ä¸å­˜åœ¨
INSERT INTO users (id, username, email, nickname) VALUES (1, 'zhang', 'zhang@example.com', NULL);

-- ç©ºå­—ç¬¦ä¸²ï¼šå·²çŸ¥ä½†ä¸ºç©º
INSERT INTO users (id, username, email, nickname) VALUES (2, 'li', 'li@example.com', '');

-- æŸ¥è¯¢
SELECT * FROM users WHERE nickname IS NULL;  -- æŸ¥åˆ°id=1
SELECT * FROM users WHERE nickname = '';  -- æŸ¥åˆ°id=2
```

**é‡è¦åŒºåˆ«**ï¼š
- `NULL`ï¼šæœªçŸ¥ï¼Œéœ€è¦ç”¨`IS NULL`åˆ¤æ–­
- `''`ï¼šç©ºå­—ç¬¦ä¸²ï¼Œç”¨`= ''`åˆ¤æ–­

### æ·»åŠ /åˆ é™¤éç©ºçº¦æŸ

```sql
-- æ·»åŠ éç©ºçº¦æŸ
ALTER TABLE users MODIFY COLUMN phone VARCHAR(20) NOT NULL;

-- åˆ é™¤éç©ºçº¦æŸ
ALTER TABLE users MODIFY COLUMN phone VARCHAR(20);
```

---

## é»˜è®¤å€¼çº¦æŸï¼ˆDEFAULTï¼‰

### åŸºç¡€ç”¨æ³•

```sql
CREATE TABLE users (
  id INT PRIMARY KEY AUTO_INCREMENT,
  username VARCHAR(50) NOT NULL,
  status TINYINT DEFAULT 1,  -- é»˜è®¤å€¼1
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP  -- é»˜è®¤å½“å‰æ—¶é—´
);

-- æ’å…¥æ•°æ®ï¼ˆä¸æŒ‡å®šstatuså’Œcreated_atï¼‰
INSERT INTO users (username) VALUES ('zhangsan');

-- æŸ¥è¯¢ç»“æœ
SELECT * FROM users;
-- id=1, username=zhangsan, status=1, created_at=2024-01-15 10:30:00
```

### å¸¸ç”¨é»˜è®¤å€¼

```sql
CREATE TABLE products (
  id INT PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  price DECIMAL(10, 2) DEFAULT 0.00,  -- é»˜è®¤ä»·æ ¼0
  stock INT DEFAULT 0,  -- é»˜è®¤åº“å­˜0
  status TINYINT DEFAULT 1,  -- é»˜è®¤çŠ¶æ€1
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  -- åˆ›å»ºæ—¶é—´
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP  -- è‡ªåŠ¨æ›´æ–°
);
```

---

## æ£€æŸ¥çº¦æŸï¼ˆCHECKï¼ŒMySQL 8.0.16+ï¼‰

### åŸºç¡€ç”¨æ³•

```sql
CREATE TABLE users (
  id INT PRIMARY KEY,
  username VARCHAR(50),
  age INT CHECK (age >= 0 AND age <= 150),  -- å¹´é¾„èŒƒå›´
  email VARCHAR(100) CHECK (email LIKE '%@%'),  -- é‚®ç®±æ ¼å¼
  status TINYINT CHECK (status IN (0, 1, 2))  -- çŠ¶æ€æšä¸¾
);

-- æ’å…¥æ•°æ®
INSERT INTO users VALUES (1, 'zhangsan', 25, 'zhang@example.com', 1);  -- æˆåŠŸ
INSERT INTO users VALUES (2, 'lisi', 200, 'li@example.com', 1);  -- å¤±è´¥ï¼šå¹´é¾„è¶…å‡ºèŒƒå›´
INSERT INTO users VALUES (3, 'wangwu', 30, 'invalid', 1);  -- å¤±è´¥ï¼šé‚®ç®±æ ¼å¼é”™è¯¯
```

### è¡¨çº§CHECKçº¦æŸ

```sql
CREATE TABLE orders (
  id INT PRIMARY KEY,
  amount DECIMAL(10, 2),
  discount DECIMAL(5, 2),
  final_amount DECIMAL(10, 2),
  CHECK (final_amount = amount - discount)  -- é‡‘é¢ä¸€è‡´æ€§æ£€æŸ¥
);
```

### æ³¨æ„äº‹é¡¹

- MySQL 8.0.16ä¹‹å‰çš„ç‰ˆæœ¬ä¸æ”¯æŒCHECKçº¦æŸ
- CHECKçº¦æŸåœ¨æ’å…¥å’Œæ›´æ–°æ—¶éªŒè¯
- å¤æ‚é€»è¾‘å»ºè®®åœ¨åº”ç”¨å±‚éªŒè¯

---

## å¤–é”®çº¦æŸï¼ˆFOREIGN KEYï¼‰

### ä»€ä¹ˆæ˜¯å¤–é”®ï¼Ÿ

**å¤–é”®**ï¼šä¸€ä¸ªè¡¨ä¸­çš„åˆ—ï¼Œå¼•ç”¨å¦ä¸€ä¸ªè¡¨çš„ä¸»é”®ï¼Œå»ºç«‹è¡¨ä¹‹é—´çš„å…³è”ã€‚

### åŸºç¡€ç¤ºä¾‹

```sql
-- çˆ¶è¡¨ï¼ˆè¢«å¼•ç”¨è¡¨ï¼‰
CREATE TABLE users (
  id INT PRIMARY KEY AUTO_INCREMENT,
  username VARCHAR(50) NOT NULL
);

-- å­è¡¨ï¼ˆå¼•ç”¨è¡¨ï¼‰
CREATE TABLE orders (
  id INT PRIMARY KEY AUTO_INCREMENT,
  user_id INT,
  order_no VARCHAR(32),
  FOREIGN KEY (user_id) REFERENCES users(id)  -- å¤–é”®çº¦æŸ
);

-- æ’å…¥æ•°æ®
INSERT INTO users VALUES (1, 'zhangsan');
INSERT INTO orders VALUES (1, 1, 'ORDER001');  -- æˆåŠŸï¼šuser_id=1å­˜åœ¨
INSERT INTO orders VALUES (2, 999, 'ORDER002');  -- å¤±è´¥ï¼šuser_id=999ä¸å­˜åœ¨
```

### å¤–é”®çš„ä½œç”¨

1. **ä¿è¯å‚ç…§å®Œæ•´æ€§**ï¼šè®¢å•çš„user_idå¿…é¡»å­˜åœ¨äºusersè¡¨
2. **é˜²æ­¢åˆ é™¤è¢«å¼•ç”¨çš„æ•°æ®**ï¼šæ— æ³•åˆ é™¤æœ‰è®¢å•çš„ç”¨æˆ·

```sql
-- å°è¯•åˆ é™¤æœ‰è®¢å•çš„ç”¨æˆ·
DELETE FROM users WHERE id = 1;
-- ERROR 1451: Cannot delete or update a parent row: a foreign key constraint fails
```

### çº§è”æ“ä½œ

#### CASCADEï¼ˆçº§è”ï¼‰

```sql
CREATE TABLE orders (
  id INT PRIMARY KEY,
  user_id INT,
  FOREIGN KEY (user_id) REFERENCES users(id)
    ON DELETE CASCADE  -- åˆ é™¤ç”¨æˆ·æ—¶ï¼Œè‡ªåŠ¨åˆ é™¤å…¶æ‰€æœ‰è®¢å•
    ON UPDATE CASCADE  -- æ›´æ–°ç”¨æˆ·IDæ—¶ï¼Œè‡ªåŠ¨æ›´æ–°è®¢å•çš„user_id
);

-- åˆ é™¤ç”¨æˆ·
DELETE FROM users WHERE id = 1;
-- ç”¨æˆ·è¢«åˆ é™¤ï¼Œå…¶æ‰€æœ‰è®¢å•ä¹Ÿè¢«è‡ªåŠ¨åˆ é™¤
```

#### SET NULL

```sql
CREATE TABLE orders (
  id INT PRIMARY KEY,
  user_id INT,
  FOREIGN KEY (user_id) REFERENCES users(id)
    ON DELETE SET NULL  -- åˆ é™¤ç”¨æˆ·æ—¶ï¼Œè®¢å•çš„user_idè®¾ä¸ºNULL
    ON UPDATE SET NULL
);
```

#### RESTRICTï¼ˆé»˜è®¤ï¼Œæ‹’ç»ï¼‰

```sql
CREATE TABLE orders (
  id INT PRIMARY KEY,
  user_id INT,
  FOREIGN KEY (user_id) REFERENCES users(id)
    ON DELETE RESTRICT  -- æœ‰è®¢å•çš„ç”¨æˆ·æ— æ³•åˆ é™¤
    ON UPDATE RESTRICT
);
```

#### NO ACTIONï¼ˆä¸RESTRICTç±»ä¼¼ï¼‰

```sql
CREATE TABLE orders (
  id INT PRIMARY KEY,
  user_id INT,
  FOREIGN KEY (user_id) REFERENCES users(id)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
);
```

### å¤–é”®çš„ä¼˜ç¼ºç‚¹

**ä¼˜ç‚¹**ï¼š
- âœ… ä¿è¯æ•°æ®ä¸€è‡´æ€§
- âœ… æ•°æ®åº“å±‚é¢çº¦æŸï¼Œæ›´å¯é 
- âœ… è‡ªåŠ¨çº§è”æ“ä½œ

**ç¼ºç‚¹**ï¼š
- âŒ æ€§èƒ½å¼€é”€ï¼ˆæ¯æ¬¡æ’å…¥/æ›´æ–°éƒ½è¦æ£€æŸ¥ï¼‰
- âŒ å½±å“åˆ†åº“åˆ†è¡¨ï¼ˆå¤–é”®è·¨åº“æ— æ³•ä½¿ç”¨ï¼‰
- âŒ å½±å“é«˜å¹¶å‘ï¼ˆå¢åŠ é”ç«äº‰ï¼‰

### ç”Ÿäº§ç¯å¢ƒå»ºè®®

**äº’è”ç½‘å…¬å¸é€šå¸¸ä¸ä½¿ç”¨å¤–é”®**ï¼š
- æ•°æ®ä¸€è‡´æ€§åœ¨åº”ç”¨å±‚ä¿è¯
- æå‡æ€§èƒ½å’Œæ‰©å±•æ€§
- ä¾¿äºåˆ†åº“åˆ†è¡¨

```sql
-- æ¨èåšæ³•ï¼šä¸åŠ å¤–é”®çº¦æŸï¼Œé€šè¿‡åº”ç”¨å±‚ä¿è¯ä¸€è‡´æ€§
CREATE TABLE orders (
  id INT PRIMARY KEY,
  user_id INT,  -- ä¸åŠ FOREIGN KEY
  INDEX idx_user_id (user_id)  -- åªåŠ ç´¢å¼•ï¼Œæå‡æŸ¥è¯¢æ€§èƒ½
);
```

---

## å®æˆ˜æ¡ˆä¾‹ï¼šç”µå•†è®¢å•ç³»ç»Ÿ

### è¡¨è®¾è®¡

```sql
-- ç”¨æˆ·è¡¨
CREATE TABLE users (
  id INT PRIMARY KEY AUTO_INCREMENT,
  username VARCHAR(50) NOT NULL UNIQUE,
  email VARCHAR(100) NOT NULL UNIQUE,
  balance DECIMAL(10, 2) DEFAULT 0.00 CHECK (balance >= 0),
  status TINYINT DEFAULT 1 CHECK (status IN (0, 1)),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- å•†å“è¡¨
CREATE TABLE products (
  id INT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(200) NOT NULL,
  price DECIMAL(10, 2) NOT NULL CHECK (price > 0),
  stock INT DEFAULT 0 CHECK (stock >= 0),
  status TINYINT DEFAULT 1,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- è®¢å•è¡¨
CREATE TABLE orders (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  user_id INT NOT NULL,
  order_no VARCHAR(32) NOT NULL UNIQUE,
  total_amount DECIMAL(10, 2) NOT NULL CHECK (total_amount > 0),
  status TINYINT DEFAULT 0 CHECK (status IN (0, 1, 2, 3, 4)),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX idx_user_id (user_id),
  INDEX idx_order_no (order_no)
);

-- è®¢å•è¯¦æƒ…è¡¨
CREATE TABLE order_items (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  order_id BIGINT NOT NULL,
  product_id INT NOT NULL,
  quantity INT NOT NULL CHECK (quantity > 0),
  price DECIMAL(10, 2) NOT NULL CHECK (price > 0),
  subtotal DECIMAL(10, 2) NOT NULL,
  INDEX idx_order_id (order_id),
  INDEX idx_product_id (product_id)
);
```

### çº¦æŸæ€»ç»“

| è¡¨ | çº¦æŸç±»å‹ | ä½œç”¨ |
|---|---------|------|
| users | PRIMARY KEY | idå”¯ä¸€ |
| users | UNIQUE | usernameã€emailä¸é‡å¤ |
| users | NOT NULL | å¿…å¡«å­—æ®µ |
| users | CHECK | balance>=0, statusæšä¸¾ |
| users | DEFAULT | é»˜è®¤å€¼ |
| orders | ç´¢å¼• | ä»£æ›¿å¤–é”®ï¼Œæå‡æ€§èƒ½ |

---

## æœ€ä½³å®è·µ

### çº¦æŸå‘½åè§„èŒƒ

```sql
-- ä¸»é”®ï¼špk_è¡¨å
ALTER TABLE users ADD CONSTRAINT pk_users PRIMARY KEY (id);

-- å”¯ä¸€çº¦æŸï¼šuk_è¡¨å_åˆ—å
ALTER TABLE users ADD CONSTRAINT uk_users_username UNIQUE (username);

-- å¤–é”®ï¼šfk_è¡¨å_å¼•ç”¨è¡¨å
ALTER TABLE orders ADD CONSTRAINT fk_orders_users
  FOREIGN KEY (user_id) REFERENCES users(id);

-- æ£€æŸ¥çº¦æŸï¼šck_è¡¨å_åˆ—å
ALTER TABLE users ADD CONSTRAINT ck_users_age
  CHECK (age >= 0 AND age <= 150);
```

### é€‰æ‹©å»ºè®®

| åœºæ™¯ | æ¨èçº¦æŸ |
|-----|---------|
| å”¯ä¸€æ ‡è¯† | PRIMARY KEY |
| ä¸å…è®¸é‡å¤ | UNIQUE |
| ä¸å…è®¸ä¸ºç©º | NOT NULL |
| æ•°å€¼èŒƒå›´ | CHECK |
| è¡¨å…³è”ï¼ˆå°é¡¹ç›®ï¼‰ | FOREIGN KEY |
| è¡¨å…³è”ï¼ˆå¤§é¡¹ç›®ï¼‰ | ç´¢å¼• + åº”ç”¨å±‚ä¿è¯ |

---

## æ€»ç»“

### æ ¸å¿ƒè¦ç‚¹

1. **ä¸»é”®çº¦æŸ**ï¼šå”¯ä¸€ + éç©ºï¼Œæ¯è¡¨ä¸€ä¸ª
2. **å”¯ä¸€çº¦æŸ**ï¼šä¸èƒ½é‡å¤ï¼Œå¯ä¸ºNULL
3. **éç©ºçº¦æŸ**ï¼šä¸èƒ½ä¸ºNULL
4. **é»˜è®¤å€¼**ï¼šæœªæä¾›å€¼æ—¶ä½¿ç”¨é»˜è®¤å€¼
5. **æ£€æŸ¥çº¦æŸ**ï¼šé™åˆ¶å€¼çš„èŒƒå›´ï¼ˆMySQL 8.0.16+ï¼‰
6. **å¤–é”®çº¦æŸ**ï¼šä¿è¯å‚ç…§å®Œæ•´æ€§ï¼ˆå¤§é¡¹ç›®ä¸æ¨èï¼‰

### è®°å¿†å£è¯€

**çº¦æŸå…­å…„å¼Ÿï¼šä¸»å”¯éé»˜æŸ¥å¤–**
- **ä¸»**ï¼šPRIMARY KEYï¼ˆä¸»é”®ï¼‰
- **å”¯**ï¼šUNIQUEï¼ˆå”¯ä¸€ï¼‰
- **é**ï¼šNOT NULLï¼ˆéç©ºï¼‰
- **é»˜**ï¼šDEFAULTï¼ˆé»˜è®¤å€¼ï¼‰
- **æŸ¥**ï¼šCHECKï¼ˆæ£€æŸ¥ï¼‰
- **å¤–**ï¼šFOREIGN KEYï¼ˆå¤–é”®ï¼‰

### ä¸‹ä¸€æ­¥å­¦ä¹ 

- ä¸Šä¸€ç¯‡ï¼šã€ŠåŸºç¡€å¢åˆ æ”¹æŸ¥ï¼šDMLæ“ä½œå…¥é—¨ã€‹
- ä¸‹ä¸€ç¯‡ï¼šã€Šå­—ç¬¦é›†ä¸æ ¡å¯¹è§„åˆ™ã€‹
- è¿”å›ç›®å½•ï¼š[MySQLä»å…¥é—¨åˆ°ç²¾é€š](/mysql/)

---

> ğŸ’¡ æœ¬æ–‡æ˜¯ "MySQLä»å…¥é—¨åˆ°ç²¾é€š" ç³»åˆ—çš„ç¬¬ 7 ç¯‡ï¼ˆå…±86ç¯‡ï¼‰ã€‚
>
> ğŸ“š å»ºè®®åŠ¨æ‰‹ç»ƒä¹ å„ç§çº¦æŸï¼Œç†è§£å…¶ä½œç”¨å’Œé™åˆ¶ã€‚

---

## å‚è€ƒèµ„æ–™

1. [MySQLå®˜æ–¹æ–‡æ¡£ - çº¦æŸ](https://dev.mysql.com/doc/refman/8.0/en/constraints.html)
2. [MySQLå®˜æ–¹æ–‡æ¡£ - å¤–é”®](https://dev.mysql.com/doc/refman/8.0/en/create-table-foreign-keys.html)
